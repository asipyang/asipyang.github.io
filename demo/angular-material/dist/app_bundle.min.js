var app=angular.module("asip.demo",["ngRoute","ngMessages","ngMaterial","ngAnimate","highcharts-ng"]);app.config(["$routeProvider","$mdThemingProvider","$provide","highchartsNGProvider",function(e,t,r,o){"use strict";e.when("/user-info",{templateUrl:"template/user_info.html"}).when("/products",{templateUrl:"template/products.html",controller:"ProductsCtrl"}).when("/orders",{templateUrl:"template/orders.html",controller:"OrdersCtrl"}).when("/dashboard",{templateUrl:"template/dashboard.html",controller:"DashboardCtrl"}).otherwise({redirectTo:"/user-info"}),t.theme("default").primaryPalette("light-green",{"default":"500","hue-1":"200","hue-2":"400","hue-3":"300"}).accentPalette("orange",{"default":"600","hue-1":"200","hue-2":"100","hue-3":"400"}).warnPalette("red"),t.theme("side-menu").primaryPalette("light-green",{"default":"700","hue-1":"200","hue-2":"400","hue-3":"500"}).accentPalette("orange",{"default":"600"}).warnPalette("red").backgroundPalette("light-green",{"default":"300"}),r.decorator("BasicApi",["$delegate",function(e){var t=e.doGet;return e.doGet=function(e,r,o){return t(e+".json",r,o)},e}]),o.lazyLoad()}]),angular.module("asip.demo").factory("BasicApi",["$http","$q","Config",function(e,t,r){"use strict";var o=r.getApiServerUrl()+r.get("API_PREFIX"),n=function(r,n){var a=o+r,u=t.defer();return e["delete"](a).success(c(u,n)).error(i(u,n)),u.promise},a=function(r,n,a){var u=o+r,d=t.defer();return e.get(u,{params:n}).success(c(d,a)).error(i(d,a)),d.promise},u=function(r,n,a){var u=o+r,d=t.defer();return e.post(u,n).success(c(d,a)).error(i(d,a)),d.promise},c=function(e,t){return t=t||{},function(r,o,n,a){t.processData&&t.processData.success&&angular.isFunction(t.processData.success)&&t.processData.success(r,o,n,a),t.updateUI&&t.updateUI.success&&angular.isFunction(t.updateUI.success)&&t.updateUI.success(r,o,n,a),e.resolve(r)}},i=function(e,t){return t=t||{},function(r,o,n,a){t.processData&&t.processData.error&&angular.isFunction(t.processData.error)&&t.processData.error(r,o,n,a),t.updateUI&&t.updateUI.error&&angular.isFunction(t.updateUI.error)&&t.updateUI.error(r,o,n,a),e.reject(r)}};return{doDelete:n,doGet:a,doPost:u}}]),angular.module("asip.demo").factory("Config",["$window",function(e){"use strict";var t={API_SERVER_URL:"./",API_PREFIX:"/demo_json",DOMAIN:e.location.protocol+"//"+e.location.host},r=function(e){return t[e]},o=function(e){return parseInt(t[e])},n=function(){var e;return e=t.API_SERVER_URL&&""!==t.API_SERVER_URL?t.API_SERVER_URL:t.DOMAIN};return{get:r,getInteger:o,getApiServerUrl:n}}]),angular.module("asip.demo").factory("DateServ",function(){"use strict";var e=function(e,t){var r=new Date(e);return r.setDate(r.getDate()+t),r},t=function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t};return{addDay:e,roundToDay:t}}),angular.module("asip.demo").factory("RightDialogServ",["$rootScope",function(e){"use strict";var t=function(t,r,o){e.$emit("openDialog",{title:t,tmplUrl:r,data:o})},r=function(){e.$emit("closeDialog")};return{openDialog:t,closeDialog:r}}]),angular.module("asip.demo").controller("FrameCtrl",["$scope","$rootScope","$location","$mdSidenav",function(e,t,r,o){"use strict";var n=[{name:"Products",icon:"card_giftcard",link:"/products"},{name:"Orders",icon:"content_paste",link:"/orders"},{name:"Dashboard",icon:"show_chart",link:"/dashboard"}],a=function(){e.menu=n,e.menuSelected=u(),e.title=c(e.menuSelected),e.dialog={open:!1,title:"",tmpUrl:"",data:{}},e.toggleSideNav=function(){o("side-menu").toggle()},e.navigateTo=function(t,n,a){r.path(t),e.menuSelected=n,e.title=c(e.menuSelected),e.closeDialog(),o("side-menu").close()},e.closeDialog=function(){e.dialog.open=!1},t.$on("openDialog",function(t,r){e.dialog.open=!0,e.dialog.title=r.title,e.dialog.tmpUrl=r.tmplUrl,e.dialog.data=r.data}),t.$on("closeDialog",function(t,r){e.closeDialog()})},u=function(){var e,t=r.path();for(e=0;e<n.length;e++)if(t===n[e].link)return e;return-1},c=function(e){return e>-1&&e<n.length?n[e].name:""};a()}]),angular.module("asip.demo").controller("DashboardCtrl",["$scope","highchartsNG",function(e,t){"use strict";var r=[[14515776e5,1235],[1451664e6,1330],[14517504e5,1523],[14518368e5,1766],[14519232e5,2134],[14520096e5,2889],[1452096e6,2123],[14521824e5,2234],[14522688e5,2756],[14523552e5,2913],[14524416e5,3021],[1452528e6,2656],[14526144e5,2524],[14527008e5,2464],[14527872e5,2693],[14528736e5,2312],[145296e7,2294]],o=[[1451664e6,1911],[14517504e5,1753],[14518368e5,1651],[14519232e5,1663],[14520096e5,1813],[1452096e6,1766],[14521824e5,2127],[14522688e5,2410],[14523552e5,2059],[14524416e5,1713],[1452528e6,1598]],n=[[1451664e6,1201],[14517504e5,1251],[14518368e5,1413],[14519232e5,1644],[14520096e5,1612],[1452096e6,2552],[14521824e5,2625],[14522688e5,2523],[14523552e5,2421],[14524416e5,2743],[1452528e6,2623],[14526144e5,2611],[14527008e5,2816],[14527872e5,2631],[14528736e5,2778],[145296e7,2685]],a={options:{chart:{type:"line",zoomType:"x",backgroundColor:"#8BC34A"},legend:{enabled:!0},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m/%e"},title:{text:"Date",align:"high"}},yAxis:{title:{text:""}}},title:{text:""},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%m/%e"}},series:[{name:"Product1",data:r,color:"#FF8F00"},{name:"Product2",data:o,color:"#FFB300"},{name:"Product3",data:n,color:"#FFD54F"}]},u=function(){e.chartConfig=a};t.ready(function(){Highcharts.setOptions({global:{useUTC:!1}})},this),u()}]),angular.module("asip.demo").controller("OrdersCtrl",["$scope","OrderServ","DateServ",function(e,t,r){"use strict";var o,n=function(){e.orders=o,e.selectedOrder=-1,e.toggleOrder=u},a=function(e){var t,o,n,a,u={},c=[];for(t=0;t<e.length;t++)o=e[t],n=r.roundToDay(o.createTime),u[n]=u[n]||[],u[n].push(o);for(a=Object.keys(u),t=0;t<a.length;t++)c.push({date:new Date(a[t]),orders:u[a[t]]});return c},u=function(t){e.selectedOrder===t?e.selectedOrder=-1:e.selectedOrder=t};t.getOrders().then(function(e){o=a(e),n()})}]),angular.module("asip.demo").controller("ProductDlgCtrl",["$scope","RightDialogServ","ProductServ",function(e,t,r){"use strict";var o=function(){e.$watch("dialog.data",function(t,r){c(),e.data=angular.copy(t)},!0),e.confirmHandler=n,e.cancelHandler=a,e.deleteHandler=u},n=function(){e.productForm.$valid&&(e.data.id?r.updateProduct(e.data):r.addProduct(e.data),t.closeDialog())},a=function(){t.closeDialog()},u=function(){r.deleteProduct(e.data),t.closeDialog()},c=function(){e.productForm.$setPristine(),e.deleteForSure=!1};o()}]),angular.module("asip.demo").controller("ProductsCtrl",["$scope","RightDialogServ","ProductServ",function(e,t,r){"use strict";var o,n=function(){e.products=o,e.addPorduct=a,e.updateProduct=u},a=function(){c("Add Product")},u=function(e){c("Edit Product",e)},c=function(e,r){r=r||{},t.openDialog(e,"template/product_dlg.html",r)};r.getProducts().then(function(e){o=e,n()})}]),angular.module("asip.demo").factory("OrderRepo",["BasicApi",function(e){"use strict";var t=function(t){var r="/orders";return e.doGet(r,{},t)};return{getOrders:t}}]),angular.module("asip.demo").factory("OrderServ",["OrderRepo",function(e){"use strict";var t=[],r=function(r){var o={success:function(e){var r;for(t.splice(0,t.length),r=0;r<e.length;r++)t.push(e[r])}},n={};return n.updateUI=r,n.processData=o,e.getOrders(n).then(function(){return t})};return{getOrders:r}}]),angular.module("asip.demo").factory("ProductRepo",["BasicApi",function(e){"use strict";var t=function(t){var r="/products";return e.doGet(r,{},t)};return{getProducts:t}}]),angular.module("asip.demo").factory("ProductServ",["ProductRepo",function(e){"use strict";var t=[],r=function(e){e.id="pid"+(t.length+1),t.push(e)},o=function(e){var r;for(r=0;r<t.length;r++)e.id===t[r].id&&t.splice(r,1)},n=function(r){var o={success:function(e){var r;for(t.splice(0,t.length),r=0;r<e.length;r++)t.push(e[r])}},n={};return n.updateUI=r,n.processData=o,e.getProducts(n).then(function(){return t})},a=function(e){var r;for(r=0;r<t.length;r++)e.id===t[r].id&&(t.splice(r,1),t.splice(r,0,e))};return{addProduct:r,deleteProduct:o,getProducts:n,updateProduct:a}}]);
//# sourceMappingURL=app_bundle.min.js.map
